#include "TileSystem.h"



TileSystem::TileSystem() {

	const int level1[] =
	{
		5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
		4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
		5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
		4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
		5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
		0,0,0,0,0,0,0,0,0,5,5,5,5,5,5,5,
		4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
		5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
		4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
	};
	int level2[]=
	{
		4,4, 0, 0, 0, 0, 0,0, 0, 4,0,0,4,0,0,0,
		0,0, 5, 5, 5, 5, 0,0, 0, 0,0,0,0,0,0,0,
		4,0, 5, 0, 0, 5, 0,0, 0, 0,0,0,0,0,0,0,
		0,0, 5, 0, 0, 5, 0,0, 0, 0,0,0,0,0,0,0,
		0,0, 5, 0, 0, 5, 0,0, 0, 0,0,0,0,0,0,0,
		4,0, 5, 5, 5, 5, 0,0, 0, 0,0,0,0,0,0,0,
		0,0, 0, 0, 0, 0, 0,0, 0, 0,0,0,0,0,0,0,
		0,0, 0, 0, 0, 0, 0,0, 0, 0,0,0,0,0,0,0,
		0,0, 0, 0, 0, 0, 0,0, 0, 0,0,0,0,0,0,0,
		0,0, 0, 0, 0, 6, 0,5, 0, 0,0,0,0,0,0,0,
		0,0, 0, 0, 0, 0, 0,0, 0, 0,0,0,0,0,0,0,
		0,0, 0, 0, 0, 0, 0,0, 0, 0,0,0,0,0,0,0,
		0,0, 0, 0, 0, 0, 0,0, 0, 0,0,0,0,0,0,0,
		0,0, 0, 0, 0, 0, 0,0, 0, 0,0,0,0,0,0,0,
		0,0, 0, 0, 0, 0, 0,0, 0, 0,0,0,0,0,0,0,
		0,0, 0, 0, 0, 0, 0,0, 0, 0,0,0,0,0,0,0,
	};
	int level[] =
	{
		7,7, 7, 7, 7, 7, 4,7, 7, 7,7,7,7,7,7,7,
		7,7, 7, 7, 7, 7, 7,7, 7, 7,7,7,7,7,7,7,
		7,7, 7, 7, 7, 7, 7,7, 7, 7,7,7,7,7,7,7,
		7,7, 7, 7, 7, 7, 7,7, 7, 7,7,7,7,7,7,7,
		4,7, 7, 7, 7, 7, 7,7, 7, 7,7,7,7,7,7,7,
		7,7, 7, 7, 7, 7, 7,7, 7, 7,7,7,7,7,7,7,
		7,7, 7, 7, 7, 7, 7,7, 7, 7,7,7,7,7,7,7,
		7,7, 7, 7, 7, 7, 7,7, 7, 7,7,7,7,7,7,7,
		7,7, 7, 7, 7, 7, 7,7, 7, 7,7,7,7,7,7,4,
		7,7, 7, 7, 7, 7, 7,7, 7, 7,7,7,7,7,7,7,
		7,7, 7, 7, 7, 7, 7,7, 7, 7,7,7,7,7,7,7,
		7,7, 7, 7, 7, 7, 7,7, 7, 7,7,7,7,7,7,7,
		7,7, 7, 7, 7, 7, 7,7, 7, 7,7,7,7,7,7,7,
		7,7, 7, 7, 7, 7, 7,7, 7, 7,7,7,7,7,7,7,
		7,7, 7, 7, 7, 7, 7,7, 7, 7,7,7,7,7,7,7,
		7,7, 7, 7, 7, 7, 4,7, 7, 7,7,7,7,7,7,7,
	};
	// create the tilemap from the level definition
	
	map[0].load("assets/textures/tileset.png", sf::Vector2u(32, 32),sf::Vector2u(32, 32),0, level, 16,16 );
	map[1].load("assets/textures/tileset.png", sf::Vector2u(32, 32),sf::Vector2u(32, 32),1, level1, 16,16 );
	map[2].load("assets/textures/tileset.png", sf::Vector2u(32, 32),sf::Vector2u(32, 32),2, level2, 16,16 );
	map[3].load("assets/textures/tileset.png", sf::Vector2u(32, 32),sf::Vector2u(32, 32),3, level2, 16,16 );
}


TileSystem::~TileSystem() {
}

void TileSystem::load() {
}

void TileSystem::draw(sf::RenderWindow &window) {
	for(TileMap &m : map){

		for (sf::Drawable &d : *m.getRows()) {
			window.draw(d);
		}
		
	}
}

